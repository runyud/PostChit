extends layouts/main-layout.pug

block content

    if errorMessage
        span.errorMessage #{errorMessage}
    else
        script. 
            let chatId = '!{chat._id}';

        .chatPageContainer
            .chatTitleBarContainer
                +createChatImage(chat, userLoggedIn)
                span#chatName(data-toggle='modal', data-target='#chatNameModal')

            .mainContentContainer 
                .loadingSpinnerContainer
                    img(src="/img/loading.gif", alt="Loading Spinner")
                .chatContainer(style='visibility: hidden')
                    ul.chatMessages

                    .typingDots
                        img(src='/img/typing.gif', alt='Typing Dots')
                    
                    .footer
                        textarea.inputTextBox(name='messageInput', placeholder='Type a message...')
                        button.sendMessageButton 
                            i.fas.fa-paper-plane 
        +createChatNameModal(chat)
        
block scripts
   script(src="/js/chatPage.js") 